<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Grounding Systems</title>
    <!-- Responsive meta tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css" />

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js" integrity="sha512-kZvDMZm6X3v3K9tnGpvQyQdDBgEmsnET9PT/DQ4L1ymY5MmZzFnR9t9/XzdOB+6Y0pmQEeKwK77OXbP6zU+4dQ==" crossorigin=""></script>
</head>

<body>
    <!-- Header -->
    <header>
        <span>Grounding Systems in Europe</span> |
        <a href="help.html">Help</a> |
        <a href="about.html">About</a>
    </header>

    <!-- Leaflet map -->
    <div id="map">

        <!-- Leaflet map setup script -->
        <script>
            // Initialisierung der Leaflet-Karte
            var map = L.map('map').setView([52.12, 9.35], 11); // Position und Zoomstufe für Hameln-Pyrmont

            // Hinzufügen von OpenStreetMap als Basiskarten-Layer
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // GeoJSON-Daten für den Landkreis Hameln-Pyrmont
            // Hier müssen Sie die GeoJSON-Daten des Landkreises Hameln-Pyrmont einfügen. Diese Daten können Sie entweder selbst erstellen oder aus einer Quelle wie OpenStreetMap exportieren.
         //  var hamelnPyrmontGeoJSON = {
         //       "type": "Feature",
         //       "properties": {},
         //       "geometry": {
         //           "type": "Polygon",
         //           "coordinates": [
         //               [
         //                   [9.297, 52.013], [9.4, 52.12], [9.45, 52.12], [9.55, 52.08], [9.60, 51.97],
         //                   [9.48, 51.97], [9.38, 52.00], [9.30, 52.013]
         //               ]
         //           ]
         //       }
         //   };
//
  //          // Hervorheben des Landkreises Hameln-Pyrmont in Blau
    //        L.geoJSON(hamelnPyrmontGeoJSON, {
      //          style: function(feature) {
        //            return {
          //              color: 'blue',
            //            weight: 2,
              //          fillColor: 'blue',
                //        fillOpacity: 0.3
                  //  };
                //}
            //}).addTo(map);

            function loadGeoJSONFiles() {
            var folderPath = 'geojson/'; // Ordnerpfad

            // Verwenden Sie `fetch` oder eine Ajax-Bibliothek, um eine Liste der Dateien im Ordner abzurufen
            fetch(folderPath)
                .then(response => response.json()) // Verarbeiten Sie die JSON-Dateiliste
                .then(files => {
                    files.forEach(file => {
                        // Laden Sie die GeoJSON-Datei
                        fetch(folderPath + file)
                            .then(response => response.json())
                            .then(geojsonData => {
                                // Fügen Sie die GeoJSON-Daten der Karte hinzu
                                L.geoJSON(geojsonData).addTo(map);
                            });
                    });
                })
                .catch(error => {
                    console.error('Fehler beim Laden der GeoJSON-Dateien:', error);
                });
                }

            // Rufen Sie die Funktion auf, um die GeoJSON-Dateien zu laden
            loadGeoJSONFiles();
        </script>
    </div>

    <!-- Footer -->
    <footer>
       Version 1.0.0 | <a href="https://github.com/prsmr/GroundingSystems" target="_blank">Sourcecode on GitHub</a> 
    </footer>


</body>

</html>
