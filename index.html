<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Grounding Systems</title>
    <!-- Responsive meta tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css" />

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js" integrity="sha512-kZvDMZm6X3v3K9tnGpvQyQdDBgEmsnET9PT/DQ4L1ymY5MmZzFnR9t9/XzdOB+6Y0pmQEeKwK77OXbP6zU+4dQ==" crossorigin=""></script>
</head>

<body>
    <!-- Header -->
    <header>
        <span>Grounding Systems in Europe</span> |
        <a href="help.html">Help</a> |
        <a href="about.html">About</a>
    </header>

    <!-- Leaflet map -->
    <div id="map">
        <script src="./js/scripts.js"></script>
        <!-- Leaflet map setup script -->
        <script>

            var map = L.map('map');
            map.createPane('labels');
            map.getPane('labels').style.zIndex = 650;
            map.getPane('labels').style.pointerEvents = 'none';

            var positron = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
            attribution: '©OpenStreetMap, ©CartoDB'
            }).addTo(map);

            var positronLabels = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}.png', {
            attribution: '©OpenStreetMap, ©CartoDB',
            pane: 'labels'
            }).addTo(map);

            var geojson = L.geoJson(GeoJsonData, geoJsonOptions).addTo(map);

            geojson.eachLayer(function (layer) {
            layer.bindPopup(layer.feature.properties.name);
            });

            map.fitBounds(geojson.getBounds());

            // Add OpenStreetMap as base-map
            //L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
            //    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            //}).addTo(map);

            map.locate({setView: true, maxZoom: 16});
            map.on('locationfound', onLocationFound);
            map.on('locationerror', onLocationError);

            loadAllGeoJSONFiles('tn');
            loadAllGeoJSONFiles('tt');
            loadAllGeoJSONFiles('it');
        </script>
    </div>

    <!-- Footer -->
    <footer>
       Version 1.0.0 | <a href="https://github.com/prsmr/GroundingSystems" target="_blank">Sourcecode on GitHub</a> 
    </footer>


</body>

</html>
